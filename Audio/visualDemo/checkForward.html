<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>自动播放示例</title>
</head>
<body>
<button id="playButton">播放视频</button>

<script>
  // 获取播放按钮元素
  const playButton = document.getElementById('playButton');

  // 检查用户是否有交互历史记录
  function checkUserInteraction() {
    // 获取用户交互历史记录，这里简化为判断点击事件
    const userInteraction = localStorage.getItem('userInteraction');
    return userInteraction === 'true';
  }

  // 处理播放按钮点击事件
  function handlePlayButtonClick() {
    // 检查用户交互历史记录
    const hasUserInteraction = checkUserInteraction();

    // 如果有交互历史记录，允许自动播放
    if (hasUserInteraction) {
      playVideo();
    } else {
      // 提示用户与页面进行交互
      alert('请先与页面进行交互，然后点击播放按钮');
    }
  }

  // 播放视频的函数
  function playVideo() {
    // 在这里实现播放视频的逻辑
    console.log('视频开始播放');
  }

  // 监听播放按钮点击事件
  playButton.addEventListener('click', handlePlayButtonClick);
</script>
</body>
</html>
